{"ast":null,"code":"import { useRef, useCallback } from \"react\";\nexport function useMapFields(nameProp, context, type) {\n  if (type === void 0) {\n    type = \"object\";\n  }\n\n  var mapFields = useRef({});\n  var updateRegisteredField = useCallback(function (propName, map) {\n    mapFields.current[propName] = map;\n  }, []);\n  var unRegisterField = useCallback(function (propName) {\n    delete mapFields.current[propName];\n\n    if (type === \"array\") {\n      mapFields.current = keepIndexSync(mapFields.current);\n    }\n\n    context == null ? void 0 : context.updateRegisteredField == null ? void 0 : context.updateRegisteredField(nameProp.current, mapFields.current);\n  }, []);\n  return {\n    unRegisterField: unRegisterField,\n    mapFields: mapFields,\n    updateRegisteredField: updateRegisteredField\n  };\n}\n\nfunction keepIndexSync(map) {\n  var _newMapArray$reduce;\n\n  var keys = Object.keys(map);\n  var mySelfKey = keys[keys.length - 1];\n  var mySelfVal = map[mySelfKey];\n  keys.pop();\n  var newMapArray = keys.map(function (key) {\n    return map[key];\n  });\n  return newMapArray.reduce(function (acc, val, index) {\n    acc[index] = val;\n    return acc;\n  }, (_newMapArray$reduce = {}, _newMapArray$reduce[mySelfKey] = mySelfVal, _newMapArray$reduce));\n}","map":{"version":3,"names":["useRef","useCallback","useMapFields","nameProp","context","type","mapFields","updateRegisteredField","propName","map","current","unRegisterField","keepIndexSync","_newMapArray$reduce","keys","Object","mySelfKey","length","mySelfVal","pop","newMapArray","key","reduce","acc","val","index"],"sources":["/home/micqdf/AlpacaPunchTests/maintest/test1/client/node_modules/usetheform/build/es/hooks/useMapFields.js"],"sourcesContent":["import { useRef, useCallback } from \"react\";\nexport function useMapFields(nameProp, context, type) {\n  if (type === void 0) {\n    type = \"object\";\n  }\n\n  var mapFields = useRef({});\n  var updateRegisteredField = useCallback(function (propName, map) {\n    mapFields.current[propName] = map;\n  }, []);\n  var unRegisterField = useCallback(function (propName) {\n    delete mapFields.current[propName];\n\n    if (type === \"array\") {\n      mapFields.current = keepIndexSync(mapFields.current);\n    }\n\n    context == null ? void 0 : context.updateRegisteredField == null ? void 0 : context.updateRegisteredField(nameProp.current, mapFields.current);\n  }, []);\n  return {\n    unRegisterField: unRegisterField,\n    mapFields: mapFields,\n    updateRegisteredField: updateRegisteredField\n  };\n}\n\nfunction keepIndexSync(map) {\n  var _newMapArray$reduce;\n\n  var keys = Object.keys(map);\n  var mySelfKey = keys[keys.length - 1];\n  var mySelfVal = map[mySelfKey];\n  keys.pop();\n  var newMapArray = keys.map(function (key) {\n    return map[key];\n  });\n  return newMapArray.reduce(function (acc, val, index) {\n    acc[index] = val;\n    return acc;\n  }, (_newMapArray$reduce = {}, _newMapArray$reduce[mySelfKey] = mySelfVal, _newMapArray$reduce));\n}"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,WAAjB,QAAoC,OAApC;AACA,OAAO,SAASC,YAAT,CAAsBC,QAAtB,EAAgCC,OAAhC,EAAyCC,IAAzC,EAA+C;EACpD,IAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;IACnBA,IAAI,GAAG,QAAP;EACD;;EAED,IAAIC,SAAS,GAAGN,MAAM,CAAC,EAAD,CAAtB;EACA,IAAIO,qBAAqB,GAAGN,WAAW,CAAC,UAAUO,QAAV,EAAoBC,GAApB,EAAyB;IAC/DH,SAAS,CAACI,OAAV,CAAkBF,QAAlB,IAA8BC,GAA9B;EACD,CAFsC,EAEpC,EAFoC,CAAvC;EAGA,IAAIE,eAAe,GAAGV,WAAW,CAAC,UAAUO,QAAV,EAAoB;IACpD,OAAOF,SAAS,CAACI,OAAV,CAAkBF,QAAlB,CAAP;;IAEA,IAAIH,IAAI,KAAK,OAAb,EAAsB;MACpBC,SAAS,CAACI,OAAV,GAAoBE,aAAa,CAACN,SAAS,CAACI,OAAX,CAAjC;IACD;;IAEDN,OAAO,IAAI,IAAX,GAAkB,KAAK,CAAvB,GAA2BA,OAAO,CAACG,qBAAR,IAAiC,IAAjC,GAAwC,KAAK,CAA7C,GAAiDH,OAAO,CAACG,qBAAR,CAA8BJ,QAAQ,CAACO,OAAvC,EAAgDJ,SAAS,CAACI,OAA1D,CAA5E;EACD,CARgC,EAQ9B,EAR8B,CAAjC;EASA,OAAO;IACLC,eAAe,EAAEA,eADZ;IAELL,SAAS,EAAEA,SAFN;IAGLC,qBAAqB,EAAEA;EAHlB,CAAP;AAKD;;AAED,SAASK,aAAT,CAAuBH,GAAvB,EAA4B;EAC1B,IAAII,mBAAJ;;EAEA,IAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYL,GAAZ,CAAX;EACA,IAAIO,SAAS,GAAGF,IAAI,CAACA,IAAI,CAACG,MAAL,GAAc,CAAf,CAApB;EACA,IAAIC,SAAS,GAAGT,GAAG,CAACO,SAAD,CAAnB;EACAF,IAAI,CAACK,GAAL;EACA,IAAIC,WAAW,GAAGN,IAAI,CAACL,GAAL,CAAS,UAAUY,GAAV,EAAe;IACxC,OAAOZ,GAAG,CAACY,GAAD,CAAV;EACD,CAFiB,CAAlB;EAGA,OAAOD,WAAW,CAACE,MAAZ,CAAmB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,KAApB,EAA2B;IACnDF,GAAG,CAACE,KAAD,CAAH,GAAaD,GAAb;IACA,OAAOD,GAAP;EACD,CAHM,GAGHV,mBAAmB,GAAG,EAAtB,EAA0BA,mBAAmB,CAACG,SAAD,CAAnB,GAAiCE,SAA3D,EAAsEL,mBAHnE,EAAP;AAID"},"metadata":{},"sourceType":"module"}