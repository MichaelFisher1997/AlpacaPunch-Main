{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { useRef, useEffect, useCallback, useMemo } from \"react\";\nimport { useOwnContext } from \"./useOwnContext\";\nimport { useNameProp } from \"./commons/useNameProp\";\nimport { useMapFields } from \"./useMapFields\";\nimport { useValidators } from \"./useValidators\";\nimport { validateProps } from \"./../utils/validateProps\";\nimport { updateState } from \"./../utils/updateState\";\nimport { chainReducers } from \"./../utils/chainReducers\";\nimport { useValidationFunction } from \"./commons/useValidationFunction\";\nimport { useValidationFunctionAsync } from \"./commons/useValidationFunctionAsync\";\nimport { STATUS } from \"./../utils/constants\";\nimport { DISPATCHER_LABEL } from \"./../utils/constants\";\nimport { noop } from \"./../utils/noop\";\nvar initArray = [];\nvar initObject = {};\nvar validatorsDefault = [];\nexport function useObject(props) {\n  var context = useOwnContext();\n  var name = props.name,\n      index = props.index,\n      type = props.type,\n      initValue = props.value,\n      reducers = props.reducers,\n      _props$validators = props.validators,\n      validatorsFuncs = _props$validators === void 0 ? validatorsDefault : _props$validators,\n      _props$onValidation = props.onValidation,\n      onValidation = _props$onValidation === void 0 ? noop : _props$onValidation,\n      _props$resetSyncErr = props.resetSyncErr,\n      resetSyncErr = _props$resetSyncErr === void 0 ? noop : _props$resetSyncErr,\n      _props$resetAsyncErr = props.resetAsyncErr,\n      resetAsyncErr = _props$resetAsyncErr === void 0 ? noop : _props$resetAsyncErr,\n      asyncValidator = props.asyncValidator,\n      _props$onAsyncValidat = props.onAsyncValidation,\n      onAsyncValidation = _props$onAsyncValidat === void 0 ? noop : _props$onAsyncValidat,\n      _props$touched = props.touched,\n      touched = _props$touched === void 0 ? false : _props$touched;\n\n  var _useNameProp = useNameProp(context, name, index),\n      nameProp = _useNameProp.nameProp,\n      uniqueIDarrayContext = _useNameProp.uniqueIDarrayContext,\n      setNameProp = _useNameProp.setNameProp;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(\"<Collection /> \", _extends({}, props, {\n      index: nameProp.current\n    }), context.type);\n  }\n\n  var _useMapFields = useMapFields(nameProp, context, type),\n      unRegisterField = _useMapFields.unRegisterField,\n      mapFields = _useMapFields.mapFields,\n      updateRegisteredField = _useMapFields.updateRegisteredField;\n\n  var applyReducers = useMemo(function () {\n    return chainReducers(reducers);\n  }, []);\n  var isMounted = useRef(false);\n  var stillMounted = useCallback(function () {\n    return isMounted.current;\n  }, []);\n  var isArray = type && type === \"array\";\n  var init = initValue || (isArray ? initArray : initObject);\n  var state = useRef(init);\n  var memoInitialState = useRef(init);\n  var prevState = useRef(isArray ? initArray : initObject);\n  var valueFieldLastSyncCheck = useRef(null); // getValue from parent context\n\n  if (!isMounted.current) {\n    state.current = initValue || context.state[nameProp.current] || init;\n  } else {\n    state.current = context.state[nameProp.current] || (isArray ? initArray : initObject);\n  }\n\n  var formState = useRef(null);\n  formState.current = context.formState;\n  var resetObj = useRef(isArray ? [] : {});\n  var registerReset = useCallback(function (namePropExt, fnReset) {\n    resetObj.current = isArray ? [].concat(resetObj.current) : _extends({}, resetObj.current);\n\n    if (isArray && typeof resetObj.current[namePropExt] !== \"undefined\") {\n      resetObj.current.splice(Number(namePropExt), 0, fnReset);\n    } else {\n      resetObj.current[namePropExt] = fnReset;\n    }\n  }, []);\n  var unRegisterReset = useCallback(function (namePropExt) {\n    if (resetObj.current.constructor === Array) {\n      resetObj.current.splice(namePropExt, 1);\n    } else {\n      delete resetObj.current[namePropExt];\n    }\n  }, []);\n  var reset = useCallback(function (formState) {\n    valueFieldLastSyncCheck.current = null;\n    var initAcc = isArray ? [] : {};\n    var obj = Object.keys(resetObj.current).reduce(function (acc, key) {\n      var value = resetObj.current[key](formState);\n      if (value !== undefined) acc[key] = value;\n      return acc;\n    }, initAcc);\n    var newValue = applyReducers(obj, memoInitialState.current, formState);\n    newValue = newValue !== undefined && Object.keys(newValue).length > 0 ? newValue : undefined;\n    return newValue;\n  }, []);\n  var updateParentProps = useCallback(function (nextState) {\n    var newState = applyReducers(nextState, state.current, formState.current);\n    var removeProp = Object.keys(newState).length === 0;\n    context.changeProp(nameProp.current, newState, removeProp);\n  }, []);\n  var changeProp = useCallback(function (namePropExt, value, removeMe) {\n    var nextState = updateState(state.current, {\n      value: value,\n      nameProp: namePropExt,\n      removeMe: removeMe\n    });\n    updateParentProps(nextState);\n  }, []);\n  var initProp = useCallback(function (namePropExt, value, intialValue, add) {\n    if (add === void 0) {\n      add = true;\n    }\n\n    var newState = updateState(state.current, {\n      value: value,\n      nameProp: namePropExt,\n      add: isMounted.current && add\n    });\n    memoInitialState.current = updateState(memoInitialState.current, {\n      value: intialValue,\n      nameProp: namePropExt,\n      add: isMounted.current && add\n    });\n    var reducedState = applyReducers(newState, state.current, formState.current);\n    prevState.current = newState;\n\n    if (isMounted.current) {\n      context.initProp(nameProp.current, reducedState, memoInitialState.current, false);\n    } else {\n      state.current = reducedState;\n    }\n  }, []);\n\n  var _useRef = useRef(function (namePropExt, _ref, willUnmount) {\n    var currentState = _ref.currentState,\n        removeCurrent = _ref.removeCurrent,\n        initialState = _ref.initialState,\n        removeInitial = _ref.removeInitial;\n\n    if (willUnmount === void 0) {\n      willUnmount = false;\n    }\n\n    var newStateCurrent = updateState(state.current, {\n      value: currentState,\n      nameProp: namePropExt,\n      removeMe: removeCurrent\n    });\n    var newStateInitial = updateState(memoInitialState.current, {\n      value: initialState,\n      nameProp: namePropExt,\n      removeMe: removeInitial\n    });\n\n    if (willUnmount && isArray) {\n      newStateCurrent = newStateCurrent.filter(function (elm, index) {\n        return index !== namePropExt;\n      });\n      newStateInitial = newStateInitial.filter(function (elm, index) {\n        return index !== namePropExt;\n      });\n    }\n\n    var reducedState = applyReducers(newStateCurrent, state.current, formState.current);\n    state.current = reducedState;\n    memoInitialState.current = newStateInitial;\n    var removeCurrentProp = Object.keys(state.current).length === 0;\n    var removeInitialProp = Object.keys(memoInitialState.current).length === 0;\n    context.removeProp(nameProp.current, {\n      currentState: state.current,\n      removeCurrent: removeCurrentProp,\n      initialState: memoInitialState.current,\n      removeInitial: removeInitialProp\n    });\n  }),\n      removeProp = _useRef.current;\n\n  var setValue = useCallback(function (resolveNextState) {\n    var nextState = typeof resolveNextState === \"function\" ? resolveNextState(state.current) : resolveNextState;\n    updateParentProps(nextState);\n  }, []);\n\n  var _useValidators = useValidators(context, nameProp, isMounted),\n      validators = _useValidators[0],\n      addValidators = _useValidators[1],\n      removeValidators = _useValidators[2];\n\n  var _useValidators2 = useValidators(context, nameProp, isMounted, true),\n      validatorsAsync = _useValidators2[0],\n      addValidatorsAsync = _useValidators2[1],\n      removeValidatorsAsync = _useValidators2[2],\n      validatorsMapsAsync = _useValidators2[3],\n      updateValidatorsMap = _useValidators2[4];\n\n  var _useValidationFunctio = useValidationFunction(validatorsFuncs),\n      validationMsg = _useValidationFunctio.validationMsg,\n      validationObj = _useValidationFunctio.validationObj,\n      validationFN = _useValidationFunctio.validationFN;\n\n  var _useValidationFunctio2 = useValidationFunctionAsync(asyncValidator, onAsyncValidation),\n      validationFNAsync = _useValidationFunctio2[0];\n\n  var triggerSyncValidation = useCallback(function (propagate, onSubmit) {\n    if (propagate === void 0) {\n      propagate = true;\n    }\n\n    if (onSubmit === void 0) {\n      onSubmit = false;\n    }\n\n    if (valueFieldLastSyncCheck.current !== state.current) {\n      if (validationObj.current !== null && (touched || onSubmit)) {\n        valueFieldLastSyncCheck.current = state.current;\n        var _validationObj$curren = validationObj.current,\n            isValid = _validationObj$curren.isValid,\n            checks = _validationObj$curren.checks;\n        onValidation(checks, isValid);\n      }\n\n      if (propagate) {\n        context == null ? void 0 : context.triggerSyncValidation == null ? void 0 : context.triggerSyncValidation();\n      }\n    }\n  }, []);\n  useEffect(function () {\n    if (context.formStatus === STATUS.ON_RESET) {\n      resetSyncErr();\n      resetAsyncErr();\n    } else if (context.formStatus !== STATUS.READY && context.formStatus !== STATUS.ON_INIT_ASYNC) {\n      if (validationObj.current !== null && context.formStatus === STATUS.ON_SUBMIT) {\n        triggerSyncValidation(false, true);\n      }\n\n      if (validationObj.current !== null && !validationObj.current.isValid) {\n        resetAsyncErr();\n      }\n    }\n  }, [validationMsg.current, context.formStatus]); // used to register async validation Actions\n\n  var asyncInitValidation = useRef({});\n  var registerAsyncInitValidation = useCallback(function (nameProp, asyncFunc) {\n    asyncInitValidation.current[nameProp] = asyncFunc;\n  }, []);\n  useEffect(function () {\n    isMounted.current = true;\n\n    if (context.type === \"array\") {\n      context.registerIndex(uniqueIDarrayContext, setNameProp);\n    } // Add its own validators\n\n\n    if (validatorsFuncs.length > 0) {\n      context.addValidators(nameProp.current, validationFN.current);\n    }\n\n    if (typeof asyncValidator === \"function\") {\n      context.addValidatorsAsync(nameProp.current, validationFNAsync.current, null);\n    }\n\n    mapFields.current[DISPATCHER_LABEL] = setValue;\n    context.updateRegisteredField(nameProp.current, mapFields.current); // register to parent any initial async Validators to be run ON_INIT\n\n    if (Object.keys(asyncInitValidation.current).length > 0) {\n      context.registerAsyncInitValidation(nameProp.current, asyncInitValidation.current);\n    } // --- Add its own validators --- //\n    // Add its children validators\n\n\n    if (Object.keys(validators.current).length > 0) {\n      context.addValidators(nameProp.current, validators.current);\n    }\n\n    if (Object.keys(validatorsAsync.current).length > 0) {\n      context.addValidatorsAsync(nameProp.current, validatorsAsync.current, validatorsMapsAsync.current);\n    } // --- Add the its children validators --- //\n\n\n    context.registerReset(nameProp.current, reset);\n    var newState = applyReducers(state.current, prevState.current, formState.current);\n    context.initProp(nameProp.current, newState, memoInitialState.current);\n    return function () {\n      resetSyncErr();\n      resetAsyncErr();\n      isMounted.current = false;\n\n      if (context.stillMounted()) {\n        context.unRegisterField(nameProp.current); // remove its own by validators\n\n        if (typeof asyncValidator === \"function\") {\n          context.removeValidatorsAsync(nameProp.current, validationFNAsync.current, false);\n        }\n\n        if (validatorsFuncs.length > 0) {\n          context.removeValidators(nameProp.current, validationFN.current);\n        } // ----- remove its own by validators ----- //\n        // remove validators inerithed by children\n\n\n        if (Object.keys(validators.current).length > 0) {\n          context.removeValidators(nameProp.current, validators.current);\n        }\n\n        if (Object.keys(validatorsAsync.current).length > 0) {\n          context.removeValidatorsAsync(nameProp.current, validatorsAsync.current, validatorsMapsAsync.current);\n        } // ----- remove validators inerithed by children ----- //\n\n\n        context.removeProp(nameProp.current, {\n          removeCurrent: true,\n          removeInitial: true\n        }, true);\n        context.unRegisterReset(nameProp.current);\n\n        if (context.type === \"array\") {\n          context.removeIndex(uniqueIDarrayContext);\n        }\n      }\n    };\n  }, []);\n  var childrenIndexes = useRef({});\n  var getIndex = useCallback(function (idCpm) {\n    if (childrenIndexes.current[idCpm] === undefined) {\n      childrenIndexes.current[idCpm] = null;\n    }\n\n    return Object.keys(childrenIndexes.current).length - 1;\n  }, []);\n  var removeIndex = useCallback(function (idCpm) {\n    delete childrenIndexes.current[idCpm];\n    Object.keys(childrenIndexes.current).forEach(function (idField, index) {\n      return childrenIndexes.current[idField](index);\n    });\n  }, []);\n  var registerIndex = useCallback(function (idCpm, fn) {\n    childrenIndexes.current[idCpm] = fn;\n  }, []);\n  return {\n    state: state.current,\n    // pass the state of the current context down\n    formState: context.formState,\n    // pass the global form state down\n    formStatus: context.formStatus,\n    // pass the global form status down\n    runAsyncValidation: context.runAsyncValidation,\n    runSyncValidation: context.runSyncValidation,\n    unRegisterField: unRegisterField,\n    updateRegisteredField: updateRegisteredField,\n    registerAsyncInitValidation: registerAsyncInitValidation,\n    changeProp: changeProp,\n    initProp: initProp,\n    removeProp: removeProp,\n    stillMounted: stillMounted,\n    getIndex: getIndex,\n    removeIndex: removeIndex,\n    registerIndex: registerIndex,\n    type: type,\n    addValidators: addValidators,\n    removeValidators: removeValidators,\n    addValidatorsAsync: addValidatorsAsync,\n    removeValidatorsAsync: removeValidatorsAsync,\n    updateValidatorsMap: updateValidatorsMap,\n    registerReset: registerReset,\n    unRegisterReset: unRegisterReset,\n    triggerSyncValidation: triggerSyncValidation\n  };\n}","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","useRef","useEffect","useCallback","useMemo","useOwnContext","useNameProp","useMapFields","useValidators","validateProps","updateState","chainReducers","useValidationFunction","useValidationFunctionAsync","STATUS","DISPATCHER_LABEL","noop","initArray","initObject","validatorsDefault","useObject","props","context","name","index","type","initValue","value","reducers","_props$validators","validators","validatorsFuncs","_props$onValidation","onValidation","_props$resetSyncErr","resetSyncErr","_props$resetAsyncErr","resetAsyncErr","asyncValidator","_props$onAsyncValidat","onAsyncValidation","_props$touched","touched","_useNameProp","nameProp","uniqueIDarrayContext","setNameProp","process","env","NODE_ENV","current","_useMapFields","unRegisterField","mapFields","updateRegisteredField","applyReducers","isMounted","stillMounted","isArray","init","state","memoInitialState","prevState","valueFieldLastSyncCheck","formState","resetObj","registerReset","namePropExt","fnReset","concat","splice","Number","unRegisterReset","constructor","Array","reset","initAcc","obj","keys","reduce","acc","undefined","newValue","updateParentProps","nextState","newState","removeProp","changeProp","removeMe","initProp","intialValue","add","reducedState","_useRef","_ref","willUnmount","currentState","removeCurrent","initialState","removeInitial","newStateCurrent","newStateInitial","filter","elm","removeCurrentProp","removeInitialProp","setValue","resolveNextState","_useValidators","addValidators","removeValidators","_useValidators2","validatorsAsync","addValidatorsAsync","removeValidatorsAsync","validatorsMapsAsync","updateValidatorsMap","_useValidationFunctio","validationMsg","validationObj","validationFN","_useValidationFunctio2","validationFNAsync","triggerSyncValidation","propagate","onSubmit","_validationObj$curren","isValid","checks","formStatus","ON_RESET","READY","ON_INIT_ASYNC","ON_SUBMIT","asyncInitValidation","registerAsyncInitValidation","asyncFunc","registerIndex","removeIndex","childrenIndexes","getIndex","idCpm","forEach","idField","fn","runAsyncValidation","runSyncValidation"],"sources":["/home/micqdf/AlpacaPunchTests/maintest/test1/client/node_modules/usetheform/build/es/hooks/useObject.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { useRef, useEffect, useCallback, useMemo } from \"react\";\nimport { useOwnContext } from \"./useOwnContext\";\nimport { useNameProp } from \"./commons/useNameProp\";\nimport { useMapFields } from \"./useMapFields\";\nimport { useValidators } from \"./useValidators\";\nimport { validateProps } from \"./../utils/validateProps\";\nimport { updateState } from \"./../utils/updateState\";\nimport { chainReducers } from \"./../utils/chainReducers\";\nimport { useValidationFunction } from \"./commons/useValidationFunction\";\nimport { useValidationFunctionAsync } from \"./commons/useValidationFunctionAsync\";\nimport { STATUS } from \"./../utils/constants\";\nimport { DISPATCHER_LABEL } from \"./../utils/constants\";\nimport { noop } from \"./../utils/noop\";\nvar initArray = [];\nvar initObject = {};\nvar validatorsDefault = [];\nexport function useObject(props) {\n  var context = useOwnContext();\n  var name = props.name,\n      index = props.index,\n      type = props.type,\n      initValue = props.value,\n      reducers = props.reducers,\n      _props$validators = props.validators,\n      validatorsFuncs = _props$validators === void 0 ? validatorsDefault : _props$validators,\n      _props$onValidation = props.onValidation,\n      onValidation = _props$onValidation === void 0 ? noop : _props$onValidation,\n      _props$resetSyncErr = props.resetSyncErr,\n      resetSyncErr = _props$resetSyncErr === void 0 ? noop : _props$resetSyncErr,\n      _props$resetAsyncErr = props.resetAsyncErr,\n      resetAsyncErr = _props$resetAsyncErr === void 0 ? noop : _props$resetAsyncErr,\n      asyncValidator = props.asyncValidator,\n      _props$onAsyncValidat = props.onAsyncValidation,\n      onAsyncValidation = _props$onAsyncValidat === void 0 ? noop : _props$onAsyncValidat,\n      _props$touched = props.touched,\n      touched = _props$touched === void 0 ? false : _props$touched;\n\n  var _useNameProp = useNameProp(context, name, index),\n      nameProp = _useNameProp.nameProp,\n      uniqueIDarrayContext = _useNameProp.uniqueIDarrayContext,\n      setNameProp = _useNameProp.setNameProp;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(\"<Collection /> \", _extends({}, props, {\n      index: nameProp.current\n    }), context.type);\n  }\n\n  var _useMapFields = useMapFields(nameProp, context, type),\n      unRegisterField = _useMapFields.unRegisterField,\n      mapFields = _useMapFields.mapFields,\n      updateRegisteredField = _useMapFields.updateRegisteredField;\n\n  var applyReducers = useMemo(function () {\n    return chainReducers(reducers);\n  }, []);\n  var isMounted = useRef(false);\n  var stillMounted = useCallback(function () {\n    return isMounted.current;\n  }, []);\n  var isArray = type && type === \"array\";\n  var init = initValue || (isArray ? initArray : initObject);\n  var state = useRef(init);\n  var memoInitialState = useRef(init);\n  var prevState = useRef(isArray ? initArray : initObject);\n  var valueFieldLastSyncCheck = useRef(null); // getValue from parent context\n\n  if (!isMounted.current) {\n    state.current = initValue || context.state[nameProp.current] || init;\n  } else {\n    state.current = context.state[nameProp.current] || (isArray ? initArray : initObject);\n  }\n\n  var formState = useRef(null);\n  formState.current = context.formState;\n  var resetObj = useRef(isArray ? [] : {});\n  var registerReset = useCallback(function (namePropExt, fnReset) {\n    resetObj.current = isArray ? [].concat(resetObj.current) : _extends({}, resetObj.current);\n\n    if (isArray && typeof resetObj.current[namePropExt] !== \"undefined\") {\n      resetObj.current.splice(Number(namePropExt), 0, fnReset);\n    } else {\n      resetObj.current[namePropExt] = fnReset;\n    }\n  }, []);\n  var unRegisterReset = useCallback(function (namePropExt) {\n    if (resetObj.current.constructor === Array) {\n      resetObj.current.splice(namePropExt, 1);\n    } else {\n      delete resetObj.current[namePropExt];\n    }\n  }, []);\n  var reset = useCallback(function (formState) {\n    valueFieldLastSyncCheck.current = null;\n    var initAcc = isArray ? [] : {};\n    var obj = Object.keys(resetObj.current).reduce(function (acc, key) {\n      var value = resetObj.current[key](formState);\n      if (value !== undefined) acc[key] = value;\n      return acc;\n    }, initAcc);\n    var newValue = applyReducers(obj, memoInitialState.current, formState);\n    newValue = newValue !== undefined && Object.keys(newValue).length > 0 ? newValue : undefined;\n    return newValue;\n  }, []);\n  var updateParentProps = useCallback(function (nextState) {\n    var newState = applyReducers(nextState, state.current, formState.current);\n    var removeProp = Object.keys(newState).length === 0;\n    context.changeProp(nameProp.current, newState, removeProp);\n  }, []);\n  var changeProp = useCallback(function (namePropExt, value, removeMe) {\n    var nextState = updateState(state.current, {\n      value: value,\n      nameProp: namePropExt,\n      removeMe: removeMe\n    });\n    updateParentProps(nextState);\n  }, []);\n  var initProp = useCallback(function (namePropExt, value, intialValue, add) {\n    if (add === void 0) {\n      add = true;\n    }\n\n    var newState = updateState(state.current, {\n      value: value,\n      nameProp: namePropExt,\n      add: isMounted.current && add\n    });\n    memoInitialState.current = updateState(memoInitialState.current, {\n      value: intialValue,\n      nameProp: namePropExt,\n      add: isMounted.current && add\n    });\n    var reducedState = applyReducers(newState, state.current, formState.current);\n    prevState.current = newState;\n\n    if (isMounted.current) {\n      context.initProp(nameProp.current, reducedState, memoInitialState.current, false);\n    } else {\n      state.current = reducedState;\n    }\n  }, []);\n\n  var _useRef = useRef(function (namePropExt, _ref, willUnmount) {\n    var currentState = _ref.currentState,\n        removeCurrent = _ref.removeCurrent,\n        initialState = _ref.initialState,\n        removeInitial = _ref.removeInitial;\n\n    if (willUnmount === void 0) {\n      willUnmount = false;\n    }\n\n    var newStateCurrent = updateState(state.current, {\n      value: currentState,\n      nameProp: namePropExt,\n      removeMe: removeCurrent\n    });\n    var newStateInitial = updateState(memoInitialState.current, {\n      value: initialState,\n      nameProp: namePropExt,\n      removeMe: removeInitial\n    });\n\n    if (willUnmount && isArray) {\n      newStateCurrent = newStateCurrent.filter(function (elm, index) {\n        return index !== namePropExt;\n      });\n      newStateInitial = newStateInitial.filter(function (elm, index) {\n        return index !== namePropExt;\n      });\n    }\n\n    var reducedState = applyReducers(newStateCurrent, state.current, formState.current);\n    state.current = reducedState;\n    memoInitialState.current = newStateInitial;\n    var removeCurrentProp = Object.keys(state.current).length === 0;\n    var removeInitialProp = Object.keys(memoInitialState.current).length === 0;\n    context.removeProp(nameProp.current, {\n      currentState: state.current,\n      removeCurrent: removeCurrentProp,\n      initialState: memoInitialState.current,\n      removeInitial: removeInitialProp\n    });\n  }),\n      removeProp = _useRef.current;\n\n  var setValue = useCallback(function (resolveNextState) {\n    var nextState = typeof resolveNextState === \"function\" ? resolveNextState(state.current) : resolveNextState;\n    updateParentProps(nextState);\n  }, []);\n\n  var _useValidators = useValidators(context, nameProp, isMounted),\n      validators = _useValidators[0],\n      addValidators = _useValidators[1],\n      removeValidators = _useValidators[2];\n\n  var _useValidators2 = useValidators(context, nameProp, isMounted, true),\n      validatorsAsync = _useValidators2[0],\n      addValidatorsAsync = _useValidators2[1],\n      removeValidatorsAsync = _useValidators2[2],\n      validatorsMapsAsync = _useValidators2[3],\n      updateValidatorsMap = _useValidators2[4];\n\n  var _useValidationFunctio = useValidationFunction(validatorsFuncs),\n      validationMsg = _useValidationFunctio.validationMsg,\n      validationObj = _useValidationFunctio.validationObj,\n      validationFN = _useValidationFunctio.validationFN;\n\n  var _useValidationFunctio2 = useValidationFunctionAsync(asyncValidator, onAsyncValidation),\n      validationFNAsync = _useValidationFunctio2[0];\n\n  var triggerSyncValidation = useCallback(function (propagate, onSubmit) {\n    if (propagate === void 0) {\n      propagate = true;\n    }\n\n    if (onSubmit === void 0) {\n      onSubmit = false;\n    }\n\n    if (valueFieldLastSyncCheck.current !== state.current) {\n      if (validationObj.current !== null && (touched || onSubmit)) {\n        valueFieldLastSyncCheck.current = state.current;\n        var _validationObj$curren = validationObj.current,\n            isValid = _validationObj$curren.isValid,\n            checks = _validationObj$curren.checks;\n        onValidation(checks, isValid);\n      }\n\n      if (propagate) {\n        context == null ? void 0 : context.triggerSyncValidation == null ? void 0 : context.triggerSyncValidation();\n      }\n    }\n  }, []);\n  useEffect(function () {\n    if (context.formStatus === STATUS.ON_RESET) {\n      resetSyncErr();\n      resetAsyncErr();\n    } else if (context.formStatus !== STATUS.READY && context.formStatus !== STATUS.ON_INIT_ASYNC) {\n      if (validationObj.current !== null && context.formStatus === STATUS.ON_SUBMIT) {\n        triggerSyncValidation(false, true);\n      }\n\n      if (validationObj.current !== null && !validationObj.current.isValid) {\n        resetAsyncErr();\n      }\n    }\n  }, [validationMsg.current, context.formStatus]); // used to register async validation Actions\n\n  var asyncInitValidation = useRef({});\n  var registerAsyncInitValidation = useCallback(function (nameProp, asyncFunc) {\n    asyncInitValidation.current[nameProp] = asyncFunc;\n  }, []);\n  useEffect(function () {\n    isMounted.current = true;\n\n    if (context.type === \"array\") {\n      context.registerIndex(uniqueIDarrayContext, setNameProp);\n    } // Add its own validators\n\n\n    if (validatorsFuncs.length > 0) {\n      context.addValidators(nameProp.current, validationFN.current);\n    }\n\n    if (typeof asyncValidator === \"function\") {\n      context.addValidatorsAsync(nameProp.current, validationFNAsync.current, null);\n    }\n\n    mapFields.current[DISPATCHER_LABEL] = setValue;\n    context.updateRegisteredField(nameProp.current, mapFields.current); // register to parent any initial async Validators to be run ON_INIT\n\n    if (Object.keys(asyncInitValidation.current).length > 0) {\n      context.registerAsyncInitValidation(nameProp.current, asyncInitValidation.current);\n    } // --- Add its own validators --- //\n    // Add its children validators\n\n\n    if (Object.keys(validators.current).length > 0) {\n      context.addValidators(nameProp.current, validators.current);\n    }\n\n    if (Object.keys(validatorsAsync.current).length > 0) {\n      context.addValidatorsAsync(nameProp.current, validatorsAsync.current, validatorsMapsAsync.current);\n    } // --- Add the its children validators --- //\n\n\n    context.registerReset(nameProp.current, reset);\n    var newState = applyReducers(state.current, prevState.current, formState.current);\n    context.initProp(nameProp.current, newState, memoInitialState.current);\n    return function () {\n      resetSyncErr();\n      resetAsyncErr();\n      isMounted.current = false;\n\n      if (context.stillMounted()) {\n        context.unRegisterField(nameProp.current); // remove its own by validators\n\n        if (typeof asyncValidator === \"function\") {\n          context.removeValidatorsAsync(nameProp.current, validationFNAsync.current, false);\n        }\n\n        if (validatorsFuncs.length > 0) {\n          context.removeValidators(nameProp.current, validationFN.current);\n        } // ----- remove its own by validators ----- //\n        // remove validators inerithed by children\n\n\n        if (Object.keys(validators.current).length > 0) {\n          context.removeValidators(nameProp.current, validators.current);\n        }\n\n        if (Object.keys(validatorsAsync.current).length > 0) {\n          context.removeValidatorsAsync(nameProp.current, validatorsAsync.current, validatorsMapsAsync.current);\n        } // ----- remove validators inerithed by children ----- //\n\n\n        context.removeProp(nameProp.current, {\n          removeCurrent: true,\n          removeInitial: true\n        }, true);\n        context.unRegisterReset(nameProp.current);\n\n        if (context.type === \"array\") {\n          context.removeIndex(uniqueIDarrayContext);\n        }\n      }\n    };\n  }, []);\n  var childrenIndexes = useRef({});\n  var getIndex = useCallback(function (idCpm) {\n    if (childrenIndexes.current[idCpm] === undefined) {\n      childrenIndexes.current[idCpm] = null;\n    }\n\n    return Object.keys(childrenIndexes.current).length - 1;\n  }, []);\n  var removeIndex = useCallback(function (idCpm) {\n    delete childrenIndexes.current[idCpm];\n    Object.keys(childrenIndexes.current).forEach(function (idField, index) {\n      return childrenIndexes.current[idField](index);\n    });\n  }, []);\n  var registerIndex = useCallback(function (idCpm, fn) {\n    childrenIndexes.current[idCpm] = fn;\n  }, []);\n  return {\n    state: state.current,\n    // pass the state of the current context down\n    formState: context.formState,\n    // pass the global form state down\n    formStatus: context.formStatus,\n    // pass the global form status down\n    runAsyncValidation: context.runAsyncValidation,\n    runSyncValidation: context.runSyncValidation,\n    unRegisterField: unRegisterField,\n    updateRegisteredField: updateRegisteredField,\n    registerAsyncInitValidation: registerAsyncInitValidation,\n    changeProp: changeProp,\n    initProp: initProp,\n    removeProp: removeProp,\n    stillMounted: stillMounted,\n    getIndex: getIndex,\n    removeIndex: removeIndex,\n    registerIndex: registerIndex,\n    type: type,\n    addValidators: addValidators,\n    removeValidators: removeValidators,\n    addValidatorsAsync: addValidatorsAsync,\n    removeValidatorsAsync: removeValidatorsAsync,\n    updateValidatorsMap: updateValidatorsMap,\n    registerReset: registerReset,\n    unRegisterReset: unRegisterReset,\n    triggerSyncValidation: triggerSyncValidation\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}